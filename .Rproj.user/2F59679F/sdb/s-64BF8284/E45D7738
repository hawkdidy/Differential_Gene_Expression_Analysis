{
    "contents" : "#filtering of genes, removing all control probes and seeing what is filtered \ncon <- db(pd.hugene.2.0.st)\n\nprobes.control <- dbGetQuery(con, \"select fsetid from featureSet where\n                             type in ('5','6','7','8','9','10','11','12','13','14','15','16','17');\")[,1]\n\nnormData.filtered <- nsFilter(normData, require.entrez=FALSE, remove.dupEntrez=FALSE, feature.exclude = probes.control)\nnormData.filtered$filter.log                    \n\n#Creating a design matrix based on the experiment and then a linear model for estimating mean expression values \n#bayes for shrinking the ste and getting DEGS\ngroup <- factor(c((rep.int(0,13)),rep.int(1,14),rep.int(2,14)\n                  ,rep.int(3,14),rep.int(4,14)))\n\ndesign <- model.matrix(~ 0 + group)\ncolnames(design) <- c(\"Intercept\",\"T1\",\"T2\",\"T3\", \"T4\")\n#contrast matrix \ncontrast <- makeContrasts( \"Intercept-T1\",\"Intercept-T2\",\"Intercept-T3\",\"Intercept-T4\"\n                           ,\"T1-T2\",\"T1-T3\",\"T1-T4\",\n                            \"T2-T3\",\"T2-T4\",\"T3-T4\", levels= design )\n\nnormfit <-eBayes( contrasts.fit( lmFit(normData.filtered$eset, design), contrast) )\n\n#getting the list of probes\nprobeset.list <-topTable(normfit,number=100000, adjust=\"BH\", lfc=1)\n\n#Adding gene symbol to dataset \n#retreaving feature data\n#featureData(normData) <- getNetAffx(normData, \"transcript\")\nSymbol <- getSYMBOL(rownames(probeset.list), \"hugene20sttranscriptcluster.db\")\n\n\nresults <- cbind(probeset.list, Symbol)\n\n#writing results to a tab delimated text file\nwrite.table(results,file=\"DEGS_ALL_CONTRAST.txt\",sep= \"\\t\" )\n\n#visualizing genes with highest LFC and probably \nvolcanoplot(normfit,highlight=10, coef=2)",
    "created" : 1455114921233.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2662704772",
    "id" : "E45D7738",
    "lastKnownWriteTime" : 1455119561,
    "path" : "~/GitHub/Thesis-Project/Pipeline/Genefiltering_Fitting_Model_Results.R",
    "project_path" : "Pipeline/Genefiltering_Fitting_Model_Results.R",
    "properties" : {
    },
    "relative_order" : 2,
    "source_on_save" : true,
    "type" : "r_source"
}